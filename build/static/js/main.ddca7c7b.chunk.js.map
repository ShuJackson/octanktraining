{"version":3,"sources":["components/App/logo.svg","serviceWorker.js","components/VideoPlayer/index.jsx","components/GridCardView/index.jsx","graphql/queries.js","aws-video-exports.js","components/GridView/index.jsx","graphql/subscriptions.js","components/App/index.jsx","components/FilePicker/index.jsx","components/PopoverProgress/index.jsx","components/Admin/index.jsx","graphql/mutations.js","components/Router/index.jsx","aws-exports.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","VideoPlayer","videojs","Hls","xhr","beforeRequest","options","uri","getAllPlayers","token","this","player","videoNode","props","dispose","data-vjs-player","ref","node","className","React","Component","GridCardView","item","title","details","src","logo","alt","defaultProps","listVodAssets","awsvideoconfig","GridView","hideMovie","setState","displayingMovie","displayMovie","Amplify","_config","aws_project_region","sources","awsvideo","awsOutputVideo","video","id","type","choosenItem","overlayMovie","state","description","Modal","style","maxWidth","isOpen","toggle","ModalHeader","ModalBody","controls","width","height","bigPlayButton","autoplay","listenForNewAssets","API","graphql","graphqlOperation","subscribe","next","data","items","push","value","onCreateVodAsset","nextToken","handleOnDocumentBottom","bind","queries","assets","undefined","console","log","newItems","concat","newNextToken","itemHTML","map","xs","sm","lg","paddingTop","paddingBottom","key","onClick","e","aria-label","onBottom","fluid","withAuthenticator","FilePicker","filePicked","file","target","files","callbackFromParent","name","preventDefault","buttonLabel","htmlFor","accept","onChange","PopoverProgress","hideProgress","showing","progressInfo","progress","returnValue","ProgressBar","now","overlayProgress","newState","Admin","myCallback","dataFromChild","fileName","titleVal","descVal","groups","submitFormHandler","handleChange","createAdminPanel","region","Auth","currentSession","then","idToken","payload","Storage","configure","AWSS3","bucket","awsInputVideo","event","uuid","uuidv4","adminPanel","videoObject","input","response","error","fileExtension","toLowerCase","split","videoAsset","vodAssetVideoId","put","length","progressCallback","loaded","total","contentType","catch","err","includes","onSubmit","placeholder","rows","cols","Routing","exact","path","component","App","awsmobile","awsconfig","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ddca7c7b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport React from 'react';\nimport videojs from 'video.js';\nimport './index.css';\n\nexport default class VideoPlayer extends React.Component {\n  componentDidMount() {\n    videojs.Hls.xhr.beforeRequest = function (options) {\n      options.uri = `${options.uri}${videojs.getAllPlayers()[0].options().token}`;\n      return options;\n    };\n    this.player = videojs(this.videoNode, this.props);\n  }\n\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div data-vjs-player>\n          <video ref={(node) => { this.videoNode = node; }} className=\"video-js\" />\n        </div>\n      </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './index.css';\nimport logo from '../App/logo.svg';\n\nconst GridCardView = (props) => {\n  const { item: { title, details } } = props;\n  return (\n    <div className=\"card\">\n      <div className=\"container\">\n        <img src={logo} alt=\"Movie\" />\n        {title}\n        <p>{details}</p>\n      </div>\n    </div>\n  );\n};\n\nGridCardView.propTypes = {\n  item: PropTypes.shape({\n    title: PropTypes.string,\n    details: PropTypes.string,\n  }),\n};\n\nGridCardView.defaultProps = {\n  item: {\n    title: 'Default Title',\n    details: 'Default Details',\n  },\n};\n\nexport default GridCardView;\n","/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const getVodAsset = /* GraphQL */ `\n  query GetVodAsset($id: ID!) {\n    getVodAsset(id: $id) {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const listVodAssets = /* GraphQL */ `\n  query ListVodAssets(\n    $filter: ModelvodAssetFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listVodAssets(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        description\n        video {\n          id\n          token\n          createdAt\n          updatedAt\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n`;\nexport const getVideoObject = /* GraphQL */ `\n  query GetVideoObject($id: ID!) {\n    getVideoObject(id: $id) {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const listVideoObjects = /* GraphQL */ `\n  query ListVideoObjects(\n    $filter: ModelvideoObjectFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listVideoObjects(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n`;\n","// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\r\n\r\nconst awsvideoconfig = {\r\n    \"awsInputVideo\": \"vodawsstack-rs3inputbucket-14923nd7x1-inputbucket-1ojawrokd5za0\",\r\n    \"awsOutputVideo\": \"d2mz09g152qu4f.cloudfront.net\"\r\n};\r\n\r\nexport default awsvideoconfig;","/* eslint-disable import/order */\nimport React, { Component } from 'react';\nimport { Grid, Col, Row } from 'react-styled-flexboxgrid';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport BottomScrollListener from 'react-bottom-scroll-listener';\nimport './index.css';\nimport VideoPlayer from '../VideoPlayer';\nimport GridCardView from '../GridCardView';\nimport 'video.js/dist/video-js.css';\n\n// Insert Location 9\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport * as queries from '../../graphql/queries';\n\n\n// Insert Location 12\nimport awsvideo from '../../aws-video-exports';\n\n\n// Insert Location 14\nimport { onCreateVodAsset } from '../../graphql/subscriptions';\n\n\nclass GridView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayingMovie: false,\n      choosenItem: {},\n      nextToken: '',\n      sources: [],\n      items: [],\n    };\n\n    this.handleOnDocumentBottom = this.handleOnDocumentBottom.bind(this);\n  }\n\n  async componentDidMount() {\n    // Insert Location 10\nconst assets = await API.graphql(graphqlOperation(queries.listVodAssets));\nlet { nextToken } = assets.data.listVodAssets;\nif (nextToken === undefined) {\n  nextToken = '';\n}\nthis.setState({ items: assets.data.listVodAssets.items, nextToken });\n    \n    // Insert Location 16\nthis.listenForNewAssets();\n  }\n\n  hideMovie = () => {\n    this.setState({\n      displayingMovie: false,\n    });\n  }\n\n  displayMovie = (item) => {\n    // Insert Location 13\nconst region = Amplify._config.aws_project_region;\nthis.setState({\n  sources: [{\n      src: `https://${awsvideo.awsOutputVideo}/${item.video.id}.m3u8`,\n      type: 'application/x-mpegURL',\n    }],\n  displayingMovie: true,\n  choosenItem: item,\n  token: item.video.token,\n});\n  }\n\n overlayMovie = () => {\n    const { displayingMovie, sources, choosenItem: { title, description }, token } = this.state;\n    return (\n      <Modal id=\"popup\" style={{ maxWidth: 755 }} isOpen={displayingMovie} toggle={this.hideMovie}>\n        <ModalHeader toggle={this.hideMovie}>{title}</ModalHeader>\n        <ModalBody>\n          {description}\n          <VideoPlayer\n            controls\n            sources={sources}\n            width={720}\n            height={420}\n            bigPlayButton={false}\n            autoplay\n            token={token}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n\n  listenForNewAssets = () => {\n    // Insert Location 15\nAPI.graphql(\n  graphqlOperation(onCreateVodAsset),\n).subscribe({\n  next: (((data) => {\n    const { items } = this.state;\n    items.push(data.value.data.onCreateVodAsset);\n    this.setState({\n      items,\n    });\n  })),\n});\n    \n  }\n\n  async handleOnDocumentBottom() {\n    // Insert Location 11\nconst { nextToken, items } = this.state;\nif (nextToken !== '' && nextToken !== null && nextToken !== undefined) {\n  console.log(nextToken);\n  const assets = await API.graphql(graphqlOperation(queries.listVodAssets, { nextToken }));\n  const newItems = items.concat(assets.data.listVodAssets.items);\n  let newNextToken = assets.data.listVodAssets.nextToken;\n  if (newNextToken === undefined) {\n    newNextToken = '';\n  }\n  this.setState({ items: newItems, nextToken: newNextToken });\n}\n  }\n\n  render() {\n    const { items } = this.state;\n    const itemHTML = items.map((item) => (\n      <Col xs={6} sm={4} lg={3.5} style={{ paddingTop: 15, paddingBottom: 15 }} key={item.id}>\n        <button type=\"button\" onClick={(e) => this.displayMovie(item, e)} aria-label={item.title}><GridCardView item={item} /></button>\n      </Col>\n    ));\n\n    return (\n      <div style={{ paddingTop: 85 }}>\n        {this.overlayMovie()}\n        <BottomScrollListener onBottom={this.handleOnDocumentBottom} />\n        <Grid fluid>\n          <Row>\n            {itemHTML}\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default GridView;\n","/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const onCreateVodAsset = /* GraphQL */ `\n  subscription OnCreateVodAsset {\n    onCreateVodAsset {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const onUpdateVodAsset = /* GraphQL */ `\n  subscription OnUpdateVodAsset {\n    onUpdateVodAsset {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const onDeleteVodAsset = /* GraphQL */ `\n  subscription OnDeleteVodAsset {\n    onDeleteVodAsset {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const onCreateVideoObject = /* GraphQL */ `\n  subscription OnCreateVideoObject {\n    onCreateVideoObject {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const onUpdateVideoObject = /* GraphQL */ `\n  subscription OnUpdateVideoObject {\n    onUpdateVideoObject {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const onDeleteVideoObject = /* GraphQL */ `\n  subscription OnDeleteVideoObject {\n    onDeleteVideoObject {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\n","import React from 'react';\nimport './App.css';\nimport GridView from '../GridView';\n\n// Insert Location 7\nimport { withAuthenticator } from 'aws-amplify-react';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <GridView />\n      </header>\n    </div>\n  );\n}\n\n// Insert Location 8\nexport default withAuthenticator(App, true);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './index.css';\n\nclass FilePicker extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filePicked: '',\n    };\n  }\n\n\n  onChange(e) {\n    const file = e.target.files[0];\n    const { callbackFromParent } = this.props;\n    this.setState({\n      filePicked: file.name,\n    });\n    callbackFromParent(file);\n    e.preventDefault();\n  }\n\n  render() {\n    const { filePicked } = this.state;\n    let buttonLabel = 'Choose a file...';\n    if (filePicked !== '') {\n      buttonLabel = 'Movie file selected';\n    }\n    return (\n      <div>\n        <label htmlFor=\"FilePicker\" className=\"fileInput\">\n          {buttonLabel}\n          <input type=\"file\" name=\"file\" id=\"FilePicker\" className=\"inputfile\" accept=\"video/*\" onChange={(e) => this.onChange(e)} />\n        </label>\n      </div>\n    );\n  }\n}\n\nFilePicker.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n};\n\nexport default FilePicker;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\n\nclass PopoverProgress extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { progress } = props;\n    const newState = state;\n    if (progress > 0 && progress < 100) {\n      newState.showing = true;\n    }\n    return newState;\n  }\n\n  hideProgress = () => {\n    this.setState({\n      showing: false,\n    });\n  }\n\n  progressInfo = () => {\n    const { progress } = this.props;\n    let returnValue = (\n      <div>\n        Error!\n      </div>\n    );\n    if (progress >= 100 || progress <= 0) {\n      returnValue = (\n        <div>\n          Upload Complete!\n        </div>\n      );\n    } else if (progress > 0) {\n      returnValue = (<ProgressBar now={progress} />);\n    }\n    return returnValue;\n  }\n\n  overlayProgress = () => {\n    const { showing } = this.state;\n    return (\n      <Modal id=\"popup\" style={{ maxWidth: 755 }} isOpen={showing} toggle={this.hideProgress}>\n        <ModalHeader toggle={this.hideProgress}>Upload Progress</ModalHeader>\n        <ModalBody>\n          {this.progressInfo()}\n        </ModalBody>\n      </Modal>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.overlayProgress()}\n      </div>\n    );\n  }\n}\n\nPopoverProgress.propTypes = {\n  progress: PropTypes.number.isRequired,\n};\n\nexport default PopoverProgress;\n","/* eslint-disable import/order */\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport './index.css';\nimport uuidv4 from 'uuid/v4';\nimport FilePicker from '../FilePicker';\nimport PopoverProgress from '../PopoverProgress';\n\n// Insert Location 2\nimport { withAuthenticator } from 'aws-amplify-react';\n\n// Insert Location 4\nimport Amplify, {\n  Auth, API, graphqlOperation, Storage,\n} from 'aws-amplify';\nimport awsvideoconfig from '../../aws-video-exports';\nimport { createVodAsset, createVideoObject } from '../../graphql/mutations';\n\n\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      titleVal: '', descVal: '', groups: [], progress: 0,\n    };\n    this.submitFormHandler = this.submitFormHandler.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.createAdminPanel = this.createAdminPanel.bind(this);\n  }\n\n  componentDidMount() {\n    // Insert Location 5\nconst region = Amplify._config.aws_project_region;\nAuth.currentSession()\n  .then((data) => {\n    const groups = data.idToken.payload['cognito:groups'];\n    if (groups) {\n      this.setState({ groups: data.idToken.payload['cognito:groups'] });\n    }\n  });\n\nStorage.configure({\n  AWSS3: {\n    bucket: awsvideoconfig.awsInputVideo,\n    region,\n  },\n});\n  }\n\n\n  myCallback = (dataFromChild) => {\n    this.setState({\n      file: dataFromChild,\n      fileName: dataFromChild.name,\n    });\n  }\n\n  handleChange(event) {\n    const { value } = event.target;\n    const { name } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handledescChange(event) {\n    this.setState({ descVal: event.target.value });\n  }\n\n\n  submitFormHandler(event) {\n    event.preventDefault();\n    // Insert Location 6\nconst uuid = uuidv4();\nconst adminPanel = this;\nconst videoObject = {\n  input: {\n    id: uuid,\n  },\n};\n\nAPI.graphql(graphqlOperation(createVideoObject, videoObject)).then((response, error) => {\n  if (error === undefined) {\n    const {\n      titleVal, descVal, file, fileName,\n    } = this.state;\n    const fileExtension = fileName.toLowerCase().split('.');\n    const videoAsset = {\n      input: {\n        title: titleVal,\n        description: descVal,\n        vodAssetVideoId: uuid,\n      },\n    };\n    API.graphql(graphqlOperation(createVodAsset, videoAsset));\n    Storage.put(`${uuid}.${fileExtension[fileExtension.length - 1]}`, file, {\n      progressCallback(progress) {\n        const { loaded, total } = progress;\n        console.log(`Uploaded: ${progress.loaded}/${progress.total}`);\n        adminPanel.setState({\n          progress: (loaded / total) * 100,\n        });\n      },\n      contentType: 'video/*',\n    })\n      .then(() => console.log(`Successfully Uploaded: ${uuid}`))\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n});\n    \n  }\n\n  createAdminPanel() {\n    const {\n      groups,\n      titleVal,\n      descVal,\n      progress,\n    } = this.state;\n    if (groups.includes('Admin')) {\n      return (\n        <div>\n          <header>\n            <h1 className=\"pageName\">Admin Panel</h1>\n            <form onSubmit={this.submitFormHandler}>\n              <div>\n                <input type=\"text\" value={titleVal} name=\"titleVal\" placeholder=\"Title\" onChange={this.handleChange} />\n                <br />\n                <textarea className=\"desTextA\" rows=\"4\" cols=\"50\" value={descVal} name=\"descVal\" placeholder=\"Description\" onChange={this.handleChange} />\n                <br />\n                <FilePicker callbackFromParent={this.myCallback} />\n                <label htmlFor=\"submitButton\" className=\"submitLabel\">\n                  Create Asset\n                  <input type=\"submit\" className=\"submitButton\" id=\"submitButton\" value=\"Create Asset\" />\n                </label>\n                <PopoverProgress progress={progress} />\n              </div>\n            </form>\n          </header>\n        </div>\n      );\n    }\n    return (\n      <div>\n        Not Authenticated\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"adminHeader\">\n        {this.createAdminPanel()}\n      </div>\n    );\n  }\n}\n// Insert Location 3\nexport default withAuthenticator(Admin, true);\n","/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const createVodAsset = /* GraphQL */ `\n  mutation CreateVodAsset(\n    $input: CreateVodAssetInput!\n    $condition: ModelvodAssetConditionInput\n  ) {\n    createVodAsset(input: $input, condition: $condition) {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const updateVodAsset = /* GraphQL */ `\n  mutation UpdateVodAsset(\n    $input: UpdateVodAssetInput!\n    $condition: ModelvodAssetConditionInput\n  ) {\n    updateVodAsset(input: $input, condition: $condition) {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const deleteVodAsset = /* GraphQL */ `\n  mutation DeleteVodAsset(\n    $input: DeleteVodAssetInput!\n    $condition: ModelvodAssetConditionInput\n  ) {\n    deleteVodAsset(input: $input, condition: $condition) {\n      id\n      title\n      description\n      video {\n        id\n        token\n        createdAt\n        updatedAt\n      }\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const createVideoObject = /* GraphQL */ `\n  mutation CreateVideoObject(\n    $input: CreateVideoObjectInput!\n    $condition: ModelvideoObjectConditionInput\n  ) {\n    createVideoObject(input: $input, condition: $condition) {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const updateVideoObject = /* GraphQL */ `\n  mutation UpdateVideoObject(\n    $input: UpdateVideoObjectInput!\n    $condition: ModelvideoObjectConditionInput\n  ) {\n    updateVideoObject(input: $input, condition: $condition) {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const deleteVideoObject = /* GraphQL */ `\n  mutation DeleteVideoObject(\n    $input: DeleteVideoObjectInput!\n    $condition: ModelvideoObjectConditionInput\n  ) {\n    deleteVideoObject(input: $input, condition: $condition) {\n      id\n      token\n      createdAt\n      updatedAt\n    }\n  }\n`;\n","import React from 'react';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport App from '../App';\nimport Admin from '../Admin';\n\nconst Routing = (\n  <Router>\n    <div>\n      <Route exact path=\"/\" component={App} />\n      <Route path=\"/Admin\" component={Admin} />\n      <Route path=\"/App\" component={App} />\n    </div>\n  </Router>\n);\n\nexport default Routing;\n","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-east-1\",\n    \"aws_cognito_identity_pool_id\": \"us-east-1:1d13d1b7-68e2-4257-9a73-1a105b459dad\",\n    \"aws_cognito_region\": \"us-east-1\",\n    \"aws_user_pools_id\": \"us-east-1_bsaQMv0aV\",\n    \"aws_user_pools_web_client_id\": \"1ru7n1v286rugmsv0flm5gg4ji\",\n    \"oauth\": {},\n    \"aws_appsync_graphqlEndpoint\": \"https://bmrbml3bzvdm7i2lgava3mpsgu.appsync-api.us-east-1.amazonaws.com/graphql\",\n    \"aws_appsync_region\": \"us-east-1\",\n    \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n    \"aws_content_delivery_bucket\": \"odws-20201010191626-hostingbucket-prod\",\n    \"aws_content_delivery_bucket_region\": \"us-east-1\",\n    \"aws_content_delivery_url\": \"https://dbavvzs66ssnu.cloudfront.net\"\n};\n\n\nexport default awsmobile;\n","/* eslint-env browser */\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport * as serviceWorker from './serviceWorker';\nimport Routing from './components/Router';\n\n// Insert Location 1\nimport Amplify from 'aws-amplify';\nimport awsconfig from './aws-exports';\n\nAmplify.configure(awsconfig);\n\n\n\nReactDOM.render(Routing, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}